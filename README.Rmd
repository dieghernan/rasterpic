---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  warning = FALSE,
  message = FALSE,
  tidy = "styler",
  fig.path = "man/figures/README-",
  dpi = 300,
  out.width = "50%",
  fig.align = "center"
)
```

# rasterpic <img src="man/figures/logo.png" align="right" height="139"/>

<!-- badges: start -->

<!-- badges: end -->

**rasterpic** is a tiny package with one single goal: to transform an image into
a spatial raster.

## Installation

You can install the developing version of **rasterpic** with:

```{r, eval=FALSE}
devtools::install_github("dieghernan/rasterpic")
```

Alternatively, you can install **rasterpic** using the
[r-universe](https://dieghernan.r-universe.dev/ui#builds):

```{r, eval=FALSE}
# Enable this universe
options(repos = c(
  dieghernan = "https://dieghernan.r-universe.dev",
  CRAN = "https://cloud.r-project.org"
))
install.packages("rasterpic")
```

## Example

This package allows you to create cool maps by using a pre-existing spatial
object (`sf` or `SpatRaster`) and geotagging a regular image using the metadata
of the object.

```{r example-basic, out.width="50%"}
library(rasterpic)
library(sf)
library(terra)

# The flag of the United Kingdom
img <- system.file("img/UK_flag.png", package = "rasterpic")
uk <- st_read(system.file("gpkg/uk.gpkg", package = "rasterpic"),
  quiet = TRUE
)

# Rasterize!
uk_flag <- rasterpic_img(uk, img)

uk_flag

# Plot it!

plotRGB(uk_flag)
plot(st_geometry(uk), add = TRUE, col = adjustcolor("blue", alpha.f = 0.5))
```

We can also play with other parameters, as well as modifying the alignment of
the image with respect to the object:

```{r align-crop-mask, out.width="50%"}

# Align, crop and mask
uk_flag2 <- rasterpic_img(uk, img, halign = 0.2, crop = TRUE, mask = TRUE)

plot(st_geometry(uk), axes = TRUE)
plotRGB(uk_flag2, add = TRUE)
plot(st_geometry(uk), col = NA, border = "black", add = TRUE)
```

## Image formats admitted

**rasterpic** can parse the following image formats:

-   `png` files.
-   `jpg/jpeg` files.
-   `tif/tiff` files.

## Citation

```{r echo=FALSE, results='asis'}
print(citation("rasterpic"), bibtex = FALSE)
```

A BibTeX entry for LaTeX users is:

```{r echo=FALSE, comment=''}
toBibtex(citation("rasterpic"))
```

## Contribute

Check the GitHub page for [source
code](https://github.com/dieghernan/rasterpic/).
